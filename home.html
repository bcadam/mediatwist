<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>MediaTwist</title>
    <meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no' name='viewport'>
    <!-- Bootstrap 3.3.2 -->
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link href="css/toggle.css" rel="stylesheet" type="text/css" />
    <!-- FontAwesome 4.3.0 -->
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
    <!-- Ionicons 2.0.0 -->
    <link href="http://code.ionicframework.com/ionicons/2.0.0/css/ionicons.min.css" rel="stylesheet" type="text/css" />
    <!-- Theme style -->
    <link href="dist/css/AdminLTE.min.css" rel="stylesheet" type="text/css" />
    <!-- AdminLTE Skins. Choose a skin from the css/skins
         folder instead of downloading all of them to reduce the load. -->
    <link href="dist/css/skins/all-skins.min.css" rel="stylesheet" type="text/css" />
    <!-- iCheck -->
    <link href="plugins/iCheck/flat/blue.css" rel="stylesheet" type="text/css" />
    <!-- Morris chart -->
    <link href="plugins/morris/morris.css" rel="stylesheet" type="text/css" />
    <!-- jvectormap -->
    <link href="plugins/jvectormap/jquery-jvectormap-1.2.2.css" rel="stylesheet" type="text/css" />
    <!-- Date Picker -->
    <link href="plugins/datepicker/datepicker3.css" rel="stylesheet" type="text/css" />
    <!-- Daterange picker -->
    <link href="plugins/daterangepicker/daterangepicker-bs3.css" rel="stylesheet" type="text/css" />
    <!-- bootstrap wysihtml5 - text editor -->
    <link href="plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.min.css" rel="stylesheet" type="text/css" />

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

  </head>
  <script type="text/jsx">

Parse.initialize("eDMdMhqERrdc0eN16XJ5mZ5Iq0iTmk4URQrNJVaX", "Ap331XrGb0AyMT4FzysCJXWoTkkXXvTLNQYDPBsh");

// Parse.User.logIn("adam.cragg@gmail.com", "test123", {
  //       success: function(user) {
  //         // Do stuff after successful login.
  //         //alert(user.id);
  //       },
  //       error: function(user, error) {
  //         // The login failed. Check error to see why.
  //       }
  //     });

//Parse.User.logOut();

//var user = Parse.User.current();

var TasksBox = React.createClass({

  getDefaultProps:function(){
    return {
      user: Parse.User.current()
    };
  },

  render:function(){
  return (
    <li className="dropdown tasks-menu">
                <a href="#" className="dropdown-toggle" data-toggle="dropdown">
                  <i className="fa fa-flag-o"></i>
                  <span className="label label-danger">9</span>
                </a>
                <ul className="dropdown-menu">
                  <li className="header">You have 9 tasks</li>
                  <li>
                    <ul className="menu">
                      <li>
                        <a href="#">
                          <h3>
                            Design some buttons
                            <small className="pull-right">20%</small>
                          </h3>
                          <div className="progress xs">
                            <div className="progress-bar progress-bar-aqua" style={{"width" : "20%"}} role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100">
                              <span className="sr-only">20% Complete</span>
                            </div>
                          </div>
                        </a>
                      </li>
                      <li>
                        <a href="#">
                          <h3>
                            Create a nice theme
                            <small className="pull-right">40%</small>
                          </h3>
                          <div className="progress xs">
                            <div className="progress-bar progress-bar-green" style={{"width" : "40%"}} role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100">
                              <span className="sr-only">40% Complete</span>
                            </div>
                          </div>
                        </a>
                      </li>
                      <li>
                        <a href="#">
                          <h3>
                            Some task I need to do
                            <small className="pull-right">60%</small>
                          </h3>
                          <div className="progress xs">
                            <div className="progress-bar progress-bar-red" style={{"width" : "60%"}} role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100">
                              <span className="sr-only">60% Complete</span>
                            </div>
                          </div>
                        </a>
                      </li>
                      <li>
                        <a href="#">
                          <h3>
                            Make beautiful transitions
                            <small className="pull-right">80%</small>
                          </h3>
                          <div className="progress xs">
                            <div className="progress-bar progress-bar-yellow" style={{"width" : "80%"}} role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100">
                              <span className="sr-only">80% Complete</span>
                            </div>
                          </div>
                        </a>
                      </li>
                    </ul>
                  </li>
                  <li className="footer">
                    <a href="#">View all tasks</a>
                  </li>
                </ul>
              </li>

          );
      }});

var App = React.createClass({
  mixins: [React.addons.LinkedStateMixin,ParseReact.Mixin],
  switchLoggedIn: function(){
    this.setState({currentUser: !this.state.currentUser});
  },

  getInitialState: function(){
    return {
      currentUser: Parse.User.current()
    };
  },

  observe: function() {
    return {
      user: ParseReact.currentUser
    };
  },

  render:function(){
    document.title = this.props.siteTitle;
    var current = this.state.currentUser;
    //console.log(current);
    if (current)
    {
    return <UserPage user={current} />;
    }
    else
    {
      return <LoginWrapper siteTitle={this.props.siteTitle} isLoggedIn={this.state.currentUser} switchLoggedIn={this.switchLoggedIn}/>;
    }
  }

  });

var UserPage = React.createClass({
  mixins: [ParseReact.Mixin], // Enable query subscriptions

  observe: function() {
    // Subscribe to all Comment objects, ordered by creation date
    // The results will be available at this.data.comments
    //alert(this.props.user.id);
    return {
      sites: (new Parse.Query('Site')).equalTo('owner', this.props.user).equalTo('published', true).ascending('createdAt'),
      assets: (new Parse.Query('Basset')).equalTo('owner', this.props.user).equalTo('published', true).ascending('createdAt'),
      targets: (new Parse.Query('Target')).equalTo('owner', this.props.user).equalTo('published', true).ascending('createdAt'),
      switches: (new Parse.Query('Switch')).equalTo('owner', this.props.user).ascending('createdAt'),
    };
   },

  getDefaultProps: function() {
    return {
      userId:  Parse.User.current(),
      siteId: "jIGb2UnzSe"
    };
  },

  render: function(){
    var user = this.props.user;
    //alert(user.get("emailVerified"));


    return (

      <div>
      <Header pageTitle="Admin" user={user} />
      <Aside />

      <div className="content-wrapper">
        <ContentHeader />

        <section className="content">
          <div className="row">
            <div className="col-lg-3 col-xs-6">
              <InfoBox background="small-box bg-aqua" title={this.data.sites.length} content="Sites" icon="ion ion-android-desktop" link="http://google.com" />
            </div>
            <div className="col-lg-3 col-xs-6">
              <InfoBox background="small-box bg-green" title={this.data.assets.length} content="Assets" icon="ion ion-images" link="http://google.com" />
              </div>
            <div className="col-lg-3 col-xs-6">
              <InfoBox background="small-box bg-yellow" title={this.data.targets.length} content="Targets" icon="ion ion-forward" link="http://google.com" />
            </div>
            <div className="col-lg-3 col-xs-6">
              <InfoBox background="small-box bg-red" title={this.data.switches.length} content="Asset Switches" icon="ion ion-arrow-swap" link="http://google.com" />
            </div>
          </div>
          <div className="row">
            <section className="col-lg-12 connectedSortable">
              {/*<div className="nav-tabs-custom">
                <ul className="nav nav-tabs pull-right">
                  <li className="active"><a href="#revenue-chart" data-toggle="tab">Area</a></li>
                  <li><a href="#sales-chart" data-toggle="tab">Donut</a></li>
                  <li className="pull-left header"><i className="fa fa-inbox"></i> Sales</li>
                </ul>
                <div className="tab-content no-padding">
                  <div className="chart tab-pane active" id="revenue-chart" style={{ "position" : "relative","height": "300px"}}></div>
                  <div className="chart tab-pane" id="sales-chart" style={{ "position" : "relative","height": "300px"}}></div>
                </div>
              </div>

              <ChatBox />

              <ToDoList />

              <QuickEmail />*/}

              <PageSites user={user} />

              <PageTargets user={user} />

              <PageAssets user={user} />

            </section>

            <section className="col-lg-5 connectedSortable">

              {/*<div className="box box-solid bg-light-blue-gradient">
                <div className="box-header">
                  <div className="pull-right box-tools">
                    <button className="btn btn-primary btn-sm daterange pull-right" data-toggle="tooltip" title="Date range"><i className="fa fa-calendar"></i></button>
                    <button className="btn btn-primary btn-sm pull-right" data-widget='collapse' data-toggle="tooltip" title="Collapse" style={{"marginRight": "5px"}}><i className="fa fa-minus"></i></button>
                  </div>

                  <i className="fa fa-map-marker"></i>
                  <h3 className="box-title">
                    Visitors
                  </h3>
                </div>
                <div className="box-body">
                  <div id="world-map" style={{"height": "250px" , "width" : "100%"}}></div>
                </div>
                <div className="box-footer no-border">
                  <div className="row">
                    <div className="col-xs-4 text-center" style={{"borderRight": "1px solid #f4f4f4"}}>
                      <div id="sparkline-1"></div>
                      <div className="knob-label">Visitors</div>
                    </div>
                    <div className="col-xs-4 text-center" style={{"borderRight": "1px solid #f4f4f4"}}>
                      <div id="sparkline-2"></div>
                      <div className="knob-label">Online</div>
                    </div>
                    <div className="col-xs-4 text-center">
                      <div id="sparkline-3"></div>
                      <div className="knob-label">Exists</div>
                    </div>
                  </div>
                </div>
              </div>*/}

             {/* <div className="box box-solid bg-teal-gradient">
                <div className="box-header">
                  <i className="fa fa-th"></i>
                  <h3 className="box-title">Sales Graph</h3>
                  <div className="box-tools pull-right">
                    <button className="btn bg-teal btn-sm" data-widget="collapse"><i className="fa fa-minus"></i></button>
                    <button className="btn bg-teal btn-sm" data-widget="remove"><i className="fa fa-times"></i></button>
                  </div>
                </div>
                <div className="box-body border-radius-none">
                  <div className="chart" id="line-chart" style={{"height": "250px"}}></div>
                </div>
                <div className="box-footer no-border">
                  <div className="row">
                    <div className="col-xs-4 text-center" style={{"borderRight": "1px solid #f4f4f4"}}>
                      <input type="text" className="knob" data-readonly="true" value="20" data-width="60" data-height="60" data-fgcolor="#39CCCC"/>
                      <div className="knob-label">Mail-Orders</div>
                    </div>
                    <div className="col-xs-4 text-center" style={{"borderRight": "1px solid #f4f4f4"}}>
                      <input type="text" className="knob" data-readonly="true" value="50" data-width="60" data-height="60" data-fgcolor="#39CCCC"/>
                      <div className="knob-label">Online</div>
                    </div>
                    <div className="col-xs-4 text-center">
                      <input type="text" className="knob" data-readonly="true" value="30" data-width="60" data-height="60" data-fgcolor="#39CCCC"/>
                      <div className="knob-label">In-Store</div>
                    </div>
                  </div>
                </div>
              </div>

              <Calendar /> */}

            </section>
          </div>

        </section>
      </div>

      <Footer companyName="RooftoDev" link="http://www.rooftop.me" />
      </div>


      );
  }
  });

var MessagesBox = React.createClass({render:function(){return(
  <li className="dropdown messages-menu">
                <a href="#" className="dropdown-toggle" data-toggle="dropdown">
                  <i className="fa fa-envelope-o"></i>
                  <span className="label label-success">4</span>
                </a>
                <ul className="dropdown-menu">
                  <li className="header">You have 4 messages</li>
                  <li>
                    <ul className="menu">
                      <li>
                        <a href="#">
                          <div className="pull-left">
                            <img src="dist/img/user2-160x160.jpg" className="img-circle" alt="User Image"/>
                          </div>
                          <h4>
                            Support Team
                            <small><i className="fa fa-clock-o"></i> 5 mins</small>
                          </h4>
                          <p>Why not buy a new awesome theme?</p>
                        </a>
                      </li>
                      <li>
                        <a href="#">
                          <div className="pull-left">
                            <img src="dist/img/user3-128x128.jpg" className="img-circle" alt="user image"/>
                          </div>
                          <h4>
                            AdminLTE Design Team
                            <small><i className="fa fa-clock-o"></i> 2 hours</small>
                          </h4>
                          <p>Why not buy a new awesome theme?</p>
                        </a>
                      </li>
                      <li>
                        <a href="#">
                          <div className="pull-left">
                            <img src="dist/img/user4-128x128.jpg" className="img-circle" alt="user image"/>
                          </div>
                          <h4>
                            Developers
                            <small><i className="fa fa-clock-o"></i> Today</small>
                          </h4>
                          <p>Why not buy a new awesome theme?</p>
                        </a>
                      </li>
                      <li>
                        <a href="#">
                          <div className="pull-left">
                            <img src="dist/img/user3-128x128.jpg" className="img-circle" alt="user image"/>
                          </div>
                          <h4>
                            Sales Department
                            <small><i className="fa fa-clock-o"></i> Yesterday</small>
                          </h4>
                          <p>Why not buy a new awesome theme?</p>
                        </a>
                      </li>
                      <li>
                        <a href="#">
                          <div className="pull-left">
                            <img src="dist/img/user4-128x128.jpg" className="img-circle" alt="user image"/>
                          </div>
                          <h4>
                            Reviewers
                            <small><i className="fa fa-clock-o"></i> 2 days</small>
                          </h4>
                          <p>Why not buy a new awesome theme?</p>
                        </a>
                      </li>
                    </ul>
                  </li>
                  <li className="footer"><a href="#">See All Messages</a></li>
                </ul>
              </li>
              );}});

var NotificationsBox = React.createClass({render:function(){return(
  <li className="dropdown notifications-menu">
                <a href="#" className="dropdown-toggle" data-toggle="dropdown">
                  <i className="fa fa-bell-o"></i>
                  <span className="label label-warning">10</span>
                </a>
                <ul className="dropdown-menu">
                  <li className="header">You have 10 notifications</li>
                  <li>
                    <ul className="menu">
                      <li>
                        <a href="#">
                          <i className="fa fa-users text-aqua"></i> 5 new members joined today
                        </a>
                      </li>
                      <li>
                        <a href="#">
                          <i className="fa fa-warning text-yellow"></i> Very long description here that may not fit into the page and may cause design problems
                        </a>
                      </li>
                      <li>
                        <a href="#">
                          <i className="fa fa-users text-red"></i> 5 new members joined
                        </a>
                      </li>

                      <li>
                        <a href="#">
                          <i className="fa fa-shopping-cart text-green"></i> 25 sales made
                        </a>
                      </li>
                      <li>
                        <a href="#">
                          <i className="fa fa-user text-red"></i> You changed your username
                        </a>
                      </li>
                    </ul>
                  </li>
                  <li className="footer"><a href="#">View all</a></li>
                </ul>
              </li>
  );}});

var Aside = React.createClass({

  render: function(){

    return(
       <aside className="main-sidebar">
        <section className="sidebar" style={{"height":"2000px !important", "overflow":"hidden"}}>

          <UserPanel />
          <SearchBar />

          {/*<ul className="sidebar-menu">
            <li className="header">MAIN NAVIGATION</li>
            <li className="active treeview">
              <a href="#">
                <i className="fa fa-dashboard"></i> <span>Dashboard</span> <i className="fa fa-angle-left pull-right"></i>
              </a>
              <ul className="treeview-menu">
                <li className="active"><a href="index.html"><i className="fa fa-circle-o"></i> Dashboard v1</a></li>
                <li><a href="index2.html"><i className="fa fa-circle-o"></i> Dashboard v2</a></li>
              </ul>
            </li>
            <li className="treeview">
              <a href="#">
                <i className="fa fa-files-o"></i>
                <span>Layout Options</span>
                <span className="label label-primary pull-right">4</span>
              </a>
              <ul className="treeview-menu">
                <li><a href="pages/layout/top-nav.html"><i className="fa fa-circle-o"></i> Top Navigation</a></li>
                <li><a href="pages/layout/boxed.html"><i className="fa fa-circle-o"></i> Boxed</a></li>
                <li><a href="pages/layout/fixed.html"><i className="fa fa-circle-o"></i> Fixed</a></li>
                <li><a href="pages/layout/collapsed-sidebar.html"><i className="fa fa-circle-o"></i> Collapsed Sidebar</a></li>
              </ul>
            </li>
            <li>
              <a href="pages/widgets.html">
                <i className="fa fa-th"></i> <span>Widgets</span> <small className="label pull-right bg-green">new</small>
              </a>
            </li>
            <li className="treeview">
              <a href="#">
                <i className="fa fa-pie-chart"></i>
                <span>Charts</span>
                <i className="fa fa-angle-left pull-right"></i>
              </a>
              <ul className="treeview-menu">
                <li><a href="pages/charts/morris.html"><i className="fa fa-circle-o"></i> Morris</a></li>
                <li><a href="pages/charts/flot.html"><i className="fa fa-circle-o"></i> Flot</a></li>
                <li><a href="pages/charts/inline.html"><i className="fa fa-circle-o"></i> Inline charts</a></li>
              </ul>
            </li>
            <li className="treeview">
              <a href="#">
                <i className="fa fa-laptop"></i>
                <span>UI Elements</span>
                <i className="fa fa-angle-left pull-right"></i>
              </a>
              <ul className="treeview-menu">
                <li><a href="pages/UI/general.html"><i className="fa fa-circle-o"></i> General</a></li>
                <li><a href="pages/UI/icons.html"><i className="fa fa-circle-o"></i> Icons</a></li>
                <li><a href="pages/UI/buttons.html"><i className="fa fa-circle-o"></i> Buttons</a></li>
                <li><a href="pages/UI/sliders.html"><i className="fa fa-circle-o"></i> Sliders</a></li>
                <li><a href="pages/UI/timeline.html"><i className="fa fa-circle-o"></i> Timeline</a></li>
                <li><a href="pages/UI/modals.html"><i className="fa fa-circle-o"></i> Modals</a></li>
              </ul>
            </li>
            <li className="treeview">
              <a href="#">
                <i className="fa fa-edit"></i> <span>Forms</span>
                <i className="fa fa-angle-left pull-right"></i>
              </a>
              <ul className="treeview-menu">
                <li><a href="pages/forms/general.html"><i className="fa fa-circle-o"></i> General Elements</a></li>
                <li><a href="pages/forms/advanced.html"><i className="fa fa-circle-o"></i> Advanced Elements</a></li>
                <li><a href="pages/forms/editors.html"><i className="fa fa-circle-o"></i> Editors</a></li>
              </ul>
            </li>
            <li className="treeview">
              <a href="#">
                <i className="fa fa-table"></i> <span>Tables</span>
                <i className="fa fa-angle-left pull-right"></i>
              </a>
              <ul className="treeview-menu">
                <li><a href="pages/tables/simple.html"><i className="fa fa-circle-o"></i> Simple tables</a></li>
                <li><a href="pages/tables/data.html"><i className="fa fa-circle-o"></i> Data tables</a></li>
              </ul>
            </li>
            <li>
              <a href="pages/calendar.html">
                <i className="fa fa-calendar"></i> <span>Calendar</span>
                <small className="label pull-right bg-red">3</small>
              </a>
            </li>
            <li>
              <a href="pages/mailbox/mailbox.html">
                <i className="fa fa-envelope"></i> <span>Mailbox</span>
                <small className="label pull-right bg-yellow">12</small>
              </a>
            </li>
            <li className="treeview">
              <a href="#">
                <i className="fa fa-folder"></i> <span>Examples</span>
                <i className="fa fa-angle-left pull-right"></i>
              </a>
              <ul className="treeview-menu">
                <li><a href="pages/examples/invoice.html"><i className="fa fa-circle-o"></i> Invoice</a></li>
                <li><a href="pages/examples/login.html"><i className="fa fa-circle-o"></i> Login</a></li>
                <li><a href="pages/examples/register.html"><i className="fa fa-circle-o"></i> Register</a></li>
                <li><a href="pages/examples/lockscreen.html"><i className="fa fa-circle-o"></i> Lockscreen</a></li>
                <li><a href="pages/examples/404.html"><i className="fa fa-circle-o"></i> 404 Error</a></li>
                <li><a href="pages/examples/500.html"><i className="fa fa-circle-o"></i> 500 Error</a></li>
                <li><a href="pages/examples/blank.html"><i className="fa fa-circle-o"></i> Blank Page</a></li>
              </ul>
            </li>
            <li className="treeview">
              <a href="#">
                <i className="fa fa-share"></i> <span>Multilevel</span>
                <i className="fa fa-angle-left pull-right"></i>
              </a>
              <ul className="treeview-menu">
                <li><a href="#"><i className="fa fa-circle-o"></i> Level One</a></li>
                <li>
                  <a href="#"><i className="fa fa-circle-o"></i> Level One <i className="fa fa-angle-left pull-right"></i></a>
                  <ul className="treeview-menu">
                    <li><a href="#"><i className="fa fa-circle-o"></i> Level Two</a></li>
                    <li>
                      <a href="#"><i className="fa fa-circle-o"></i> Level Two <i className="fa fa-angle-left pull-right"></i></a>
                      <ul className="treeview-menu">
                        <li><a href="#"><i className="fa fa-circle-o"></i> Level Three</a></li>
                        <li><a href="#"><i className="fa fa-circle-o"></i> Level Three</a></li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li><a href="#"><i className="fa fa-circle-o"></i> Level One</a></li>
              </ul>
            </li>
            <li><a href="documentation/index.html"><i className="fa fa-book"></i> Documentation</a></li>
            <li className="header">LABELS</li>
            <li><a href="#"><i className="fa fa-circle-o text-danger"></i> Important</a></li>
            <li><a href="#"><i className="fa fa-circle-o text-warning"></i> Warning</a></li>
            <li><a href="#"><i className="fa fa-circle-o text-info"></i> Information</a></li>
          </ul>*/}
        </section>
      </aside>


      );

  }

  });

var UserPanel = React.createClass({

  getDefaultProps:function(){
    return {
      user: Parse.User.current()
    };
  },

  render:function(){return(

      <div className="user-panel">
        <div className="pull-left image">
          <img src="dist/img/user2-160x160.jpg" className="img-circle" alt="User Image" />
        </div>
        <div className="pull-left info">
          <p>Alexander Pierce</p>

          <a href="#"><i className="fa fa-circle text-success"></i> Online</a>
        </div>
      </div>

          );}});

var SearchBar = React.createClass({render:function(){return(

  <form action="#" method="get" className="sidebar-form">
    <div className="input-group">
      <input type="text" name="q" className="form-control" placeholder="Search..."/>
      <span className="input-group-btn">
        <button type='submit' name='search' id='search-btn' className="btn btn-flat"><i className="fa fa-search"></i></button>
      </span>
    </div>
  </form>

  );}});

{/* var Content = React.createClass({

  render: function(){

    return(
       <div className="content-wrapper">
        <ContentHeader />

        <section className="content">
          <div className="row">
            <div className="col-lg-3 col-xs-6">
              <InfoBox background="small-box bg-aqua" title={this.props.numberOfSites} content="Number of Sites" icon="ion ion-android-desktop" link="http://google.com" />
            </div>
            <div className="col-lg-3 col-xs-6">
              <InfoBox background="small-box bg-green" title="53%" content="Bounce Rate" icon="ion ion-stats-bars" link="http://google.com" />
              </div>
            <div className="col-lg-3 col-xs-6">
              <InfoBox background="small-box bg-yellow" title="44" content="User Registrations" icon="ion ion-person-add" link="http://google.com" />
            </div>
            <div className="col-lg-3 col-xs-6">
              <InfoBox background="small-box bg-red" title="65" content="Unique Visitors" icon="ion ion-pie-graph" link="http://google.com" />
            </div>
          </div>
          <div className="row">
            <section className="col-lg-7 connectedSortable">
              <div className="nav-tabs-custom">
                <ul className="nav nav-tabs pull-right">
                  <li className="active"><a href="#revenue-chart" data-toggle="tab">Area</a></li>
                  <li><a href="#sales-chart" data-toggle="tab">Donut</a></li>
                  <li className="pull-left header"><i className="fa fa-inbox"></i> Sales</li>
                </ul>
                <div className="tab-content no-padding">
                  <div className="chart tab-pane active" id="revenue-chart" style={{ "position" : "relative","height": "300px"}}></div>
                  <div className="chart tab-pane" id="sales-chart" style={{ "position" : "relative","height": "300px"}}></div>
                </div>
              </div>

              <ChatBox />

              <ToDoList />

              <QuickEmail />

              <PageAssets />

            </section>

            <section className="col-lg-5 connectedSortable">

              <div className="box box-solid bg-light-blue-gradient">
                <div className="box-header">
                  <div className="pull-right box-tools">
                    <button className="btn btn-primary btn-sm daterange pull-right" data-toggle="tooltip" title="Date range"><i className="fa fa-calendar"></i></button>
                    <button className="btn btn-primary btn-sm pull-right" data-widget='collapse' data-toggle="tooltip" title="Collapse" style={{"marginRight": "5px"}}><i className="fa fa-minus"></i></button>
                  </div>

                  <i className="fa fa-map-marker"></i>
                  <h3 className="box-title">
                    Visitors
                  </h3>
                </div>
                <div className="box-body">
                  <div id="world-map" style={{"height": "250px" , "width" : "100%"}}></div>
                </div>
                <div className="box-footer no-border">
                  <div className="row">
                    <div className="col-xs-4 text-center" style={{"borderRight": "1px solid #f4f4f4"}}>
                      <div id="sparkline-1"></div>
                      <div className="knob-label">Visitors</div>
                    </div>
                    <div className="col-xs-4 text-center" style={{"borderRight": "1px solid #f4f4f4"}}>
                      <div id="sparkline-2"></div>
                      <div className="knob-label">Online</div>
                    </div>
                    <div className="col-xs-4 text-center">
                      <div id="sparkline-3"></div>
                      <div className="knob-label">Exists</div>
                    </div>
                  </div>
                </div>
              </div>

              <div className="box box-solid bg-teal-gradient">
                <div className="box-header">
                  <i className="fa fa-th"></i>
                  <h3 className="box-title">Sales Graph</h3>
                  <div className="box-tools pull-right">
                    <button className="btn bg-teal btn-sm" data-widget="collapse"><i className="fa fa-minus"></i></button>
                    <button className="btn bg-teal btn-sm" data-widget="remove"><i className="fa fa-times"></i></button>
                  </div>
                </div>
                <div className="box-body border-radius-none">
                  <div className="chart" id="line-chart" style={{"height": "250px"}}></div>
                </div>
                <div className="box-footer no-border">
                  <div className="row">
                    <div className="col-xs-4 text-center" style={{"borderRight": "1px solid #f4f4f4"}}>
                      <input type="text" className="knob" data-readonly="true" value="20" data-width="60" data-height="60" data-fgcolor="#39CCCC"/>
                      <div className="knob-label">Mail-Orders</div>
                    </div>
                    <div className="col-xs-4 text-center" style={{"borderRight": "1px solid #f4f4f4"}}>
                      <input type="text" className="knob" data-readonly="true" value="50" data-width="60" data-height="60" data-fgcolor="#39CCCC"/>
                      <div className="knob-label">Online</div>
                    </div>
                    <div className="col-xs-4 text-center">
                      <input type="text" className="knob" data-readonly="true" value="30" data-width="60" data-height="60" data-fgcolor="#39CCCC"/>
                      <div className="knob-label">In-Store</div>
                    </div>
                  </div>
                </div>
              </div>

              <Calendar />

            </section>
          </div>

        </section>
      </div>

      );

  }

  });
*/}

var Calendar = React.createClass({
  getDefaultProps:function(){
    return {
      user: Parse.User.current()
    };
  },

  getDefaultProps: function () {
    return { classes: "box box-solid bg-green-gradient", title: "10" , content: "New Orders", icon: "ion ion-bag", link: "http://google.com"};
  },
  handleClick:function(){
    this.props.classes = "hide";
    alert("test");
  },
  render:function(){

  return(
  <div className={this.props.classes}>
    <div className="box-header">
      <i className="fa fa-calendar"></i>
      <h3 className="box-title">Calendar</h3>
      <div className="pull-right box-tools">
        <div className="btn-group">
          <button className="btn btn-success btn-sm dropdown-toggle" data-toggle="dropdown"><i className="fa fa-bars"></i></button>
          <ul className="dropdown-menu pull-right" role="menu">
            <li><a href="#">Add new event</a></li>
            <li><a href="#">Clear events</a></li>
            <li className="divider"></li>
            <li><a href="#">View calendar</a></li>
          </ul>
        </div>
        <button className="btn btn-success btn-sm" data-widget="collapse"><i className="fa fa-minus"></i></button>
        <button className="btn btn-success btn-sm" data-widget="remove" onClick={this.handleClick}><i className="fa fa-times"></i></button>
      </div>
    </div>
    <div className="box-body no-padding">
      <div id="calendar" style={{"width": "100%"}}></div>
    </div>
    <div className="box-footer text-black">
      <div className="row">
        <div className="col-sm-6">
          <div className="clearfix">
            <span className="pull-left">Task #1</span>
            <small className="pull-right">90%</small>
          </div>
          <div className="progress xs">
            <div className="progress-bar progress-bar-green" style={{"width": "90%"}}></div>
          </div>

          <div className="clearfix">
            <span className="pull-left">Task #2</span>
            <small className="pull-right">70%</small>
          </div>
          <div className="progress xs">
            <div className="progress-bar progress-bar-green" style={{"width": "70%"}}></div>
          </div>
        </div>
        <div className="col-sm-6">
          <div className="clearfix">
            <span className="pull-left">Task #3</span>
            <small className="pull-right">60%</small>
          </div>
          <div className="progress xs">
            <div className="progress-bar progress-bar-green" style={{"width": "60%"}}></div>
          </div>

          <div className="clearfix">
            <span className="pull-left">Task #4</span>
            <small className="pull-right">40%</small>
          </div>
          <div className="progress xs">
            <div className="progress-bar progress-bar-green" style={{"width": "40%"}}></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  );}});

var InfoBox = React.createClass({

  getDefaultProps: function () {
    return { background: "small-box bg-aqua", title: "10" , content: "New Orders", icon: "ion ion-bag", link: "http://google.com"};
  },

  render: function(){

    return (

      <div className={this.props.background}>
        <div className="inner">
          <h3>{this.props.title}</h3>
          <p>{this.props.content}</p>
        </div>
        <div className="icon">
          <i className={this.props.icon}></i>
        </div>
        {/*<a href={this.props.link} className="small-box-footer">More info <i className="fa fa-arrow-circle-right"></i></a>*/}
      </div>


      );
  }

  });

var ContentHeader = React.createClass({
  getDefaultProps:function(){
    return {
      user: Parse.User.current()
    };
  },

  render:function(){

    return(

      <section className="content-header">
          <h1>
            Dashboard
            <small>Control panel</small>
          </h1>
          {/*<ol className="breadcrumb">
            <li><a href="#"><i className="fa fa-dashboard"></i> Home</a></li>
            <li className="active">Dashboard</li>
          </ol>*/}
        </section>



      );
  }


  });

var ChatBox = React.createClass({
  getDefaultProps:function(){
    return {
      user: Parse.User.current()
    };
  },

  render: function(){
    return (
      <div className="box box-success">
                <div className="box-header">
                  <i className="fa fa-comments-o"></i>
                  <h3 className="box-title">Chat</h3>
                  <div className="box-tools pull-right" data-toggle="tooltip" title="Status">
                    <div className="btn-group" data-toggle="btn-toggle" >
                      <button type="button" className="btn btn-default btn-sm active"><i className="fa fa-square text-green"></i></button>
                      <button type="button" className="btn btn-default btn-sm"><i className="fa fa-square text-red"></i></button>
                    </div>
                  </div>
                </div>
                <div className="box-body chat" id="chat-box">
                  <div className="item">
                    <img src="dist/img/user4-128x128.jpg" alt="user image" className="online"/>
                    <p className="message">
                      <a href="#" className="name">
                        <small className="text-muted pull-right"><i className="fa fa-clock-o"></i> 2:15</small>
                        Mike Doe
                      </a>
                      I would like to meet you to discuss the latest news about
                      the arrival of the new theme. They say it is going to be one the
                      best themes on the market
                    </p>
                    <div className="attachment">
                      <h4>Attachments:</h4>
                      <p className="filename">
                        Theme-thumbnail-image.jpg
                      </p>
                      <div className="pull-right">
                        <button className="btn btn-primary btn-sm btn-flat">Open</button>
                      </div>
                    </div>
                  </div>
                  <div className="item">
                    <img src="dist/img/user3-128x128.jpg" alt="user image" className="offline"/>
                    <p className="message">
                      <a href="#" className="name">
                        <small className="text-muted pull-right"><i className="fa fa-clock-o"></i> 5:15</small>
                        Alexander Pierce
                      </a>
                      I would like to meet you to discuss the latest news about
                      the arrival of the new theme. They say it is going to be one the
                      best themes on the market
                    </p>
                  </div>
                  <div className="item">
                    <img src="dist/img/user2-160x160.jpg" alt="user image" className="offline"/>
                    <p className="message">
                      <a href="#" className="name">
                        <small className="text-muted pull-right"><i className="fa fa-clock-o"></i> 5:30</small>
                        Susan Doe
                      </a>
                      I would like to meet you to discuss the latest news about
                      the arrival of the new theme. They say it is going to be one the
                      best themes on the market
                    </p>
                  </div>
                </div>
                <div className="box-footer">
                  <div className="input-group">
                    <input className="form-control" placeholder="Type message..."/>
                    <div className="input-group-btn">
                      <button className="btn btn-success"><i className="fa fa-plus"></i></button>
                    </div>
                  </div>
                </div>
              </div>

              );
  }

  });

var ToDoList = React.createClass({
  getDefaultProps:function(){
    return {
      user: Parse.User.current()
    };
  },

  render:function(){
    return (

              <div className="box box-primary">
                <div className="box-header">
                  <i className="ion ion-clipboard"></i>
                  <h3 className="box-title">To Do List</h3>
                  <div className="box-tools pull-right">
                    <ul className="pagination pagination-sm inline">
                      <li><a href="#">&laquo;</a></li>
                      <li><a href="#">1</a></li>
                      <li><a href="#">2</a></li>
                      <li><a href="#">3</a></li>
                      <li><a href="#">&raquo;</a></li>
                    </ul>
                  </div>
                </div>
                <div className="box-body">
                  <ul className="todo-list">
                    <li>
                      <span className="handle">
                        <i className="fa fa-ellipsis-v"></i>
                        <i className="fa fa-ellipsis-v"></i>
                      </span>
                      <input type="checkbox" value="" name=""/>
                      <span className="text">Design a nice theme</span>
                      <small className="label label-danger"><i className="fa fa-clock-o"></i> 2 mins</small>
                      <div className="tools">
                        <i className="fa fa-edit"></i>
                        <i className="fa fa-trash-o"></i>
                      </div>
                    </li>
                    <li>
                      <span className="handle">
                        <i className="fa fa-ellipsis-v"></i>
                        <i className="fa fa-ellipsis-v"></i>
                      </span>
                      <input type="checkbox" value="" name=""/>
                      <span className="text">Make the theme responsive</span>
                      <small className="label label-info"><i className="fa fa-clock-o"></i> 4 hours</small>
                      <div className="tools">
                        <i className="fa fa-edit"></i>
                        <i className="fa fa-trash-o"></i>
                      </div>
                    </li>
                    <li>
                      <span className="handle">
                        <i className="fa fa-ellipsis-v"></i>
                        <i className="fa fa-ellipsis-v"></i>
                      </span>
                      <input type="checkbox" value="" name=""/>
                      <span className="text">Let theme shine like a star</span>
                      <small className="label label-warning"><i className="fa fa-clock-o"></i> 1 day</small>
                      <div className="tools">
                        <i className="fa fa-edit"></i>
                        <i className="fa fa-trash-o"></i>
                      </div>
                    </li>
                    <li>
                      <span className="handle">
                        <i className="fa fa-ellipsis-v"></i>
                        <i className="fa fa-ellipsis-v"></i>
                      </span>
                      <input type="checkbox" value="" name=""/>
                      <span className="text">Let theme shine like a star</span>
                      <small className="label label-success"><i className="fa fa-clock-o"></i> 3 days</small>
                      <div className="tools">
                        <i className="fa fa-edit"></i>
                        <i className="fa fa-trash-o"></i>
                      </div>
                    </li>
                    <li>
                      <span className="handle">
                        <i className="fa fa-ellipsis-v"></i>
                        <i className="fa fa-ellipsis-v"></i>
                      </span>
                      <input type="checkbox" value="" name=""/>
                      <span className="text">Check your messages and notifications</span>
                      <small className="label label-primary"><i className="fa fa-clock-o"></i> 1 week</small>
                      <div className="tools">
                        <i className="fa fa-edit"></i>
                        <i className="fa fa-trash-o"></i>
                      </div>
                    </li>
                    <li>
                      <span className="handle">
                        <i className="fa fa-ellipsis-v"></i>
                        <i className="fa fa-ellipsis-v"></i>
                      </span>
                      <input type="checkbox" value="" name=""/>
                      <span className="text">Let theme shine like a star</span>
                      <small className="label label-default"><i className="fa fa-clock-o"></i> 1 month</small>
                      <div className="tools">
                        <i className="fa fa-edit"></i>
                        <i className="fa fa-trash-o"></i>
                      </div>
                    </li>
                  </ul>
                </div>
                <div className="box-footer clearfix no-border">
                  <button className="btn btn-default pull-right"><i className="fa fa-plus"></i> Add item</button>
                </div>
              </div>



      );
  }
  });

var QuickEmail = React.createClass({
  getInitialState:function(){
    return {
      user: Parse.User.current(),
      firstname : Parse.User.current().get('firstname')
    };
  },

  render: function(){
    return(
      <div className="box box-info">
                <div className="box-header">
                  <i className="fa fa-envelope"></i>
                  <h3 className="box-title">Quick Email</h3>
                  <div className="pull-right box-tools">
                    <button className="btn btn-info btn-sm" data-widget="remove" data-toggle="tooltip" title="Remove"><i className="fa fa-times"></i></button>
                  </div>
                </div>
                <div className="box-body">
                  <form action="#" method="post">
                    <div className="form-group">
                      <input type="email" className="form-control" name="emailto" placeholder="Email to:"/>
                    </div>
                    <div className="form-group">
                      <input type="text" className="form-control" name="subject" placeholder="Subject"/>
                    </div>
                    <div>
                      <textarea className="textarea" placeholder="Message" style={{"width": "100%" , "height" : "125px", "fontSize" : "14px" , "lineHeight" : "18px" , "border" : "1px solid #dddddd" , "padding ": "10px"}}></textarea>
                    </div>
                  </form>
                </div>
                <div className="box-footer clearfix">
                  <button className="pull-right btn btn-default" id="sendEmail">Send <i className="fa fa-arrow-circle-right"></i></button>
                </div>
              </div>
      );
  }
  });

var Footer = React.createClass({
  getDefaultProps: function () {
    return { companyName: "GiftHero", link: "http://rooftop.me"};
  },

  render: function(){
    return (

      <footer className="main-footer">
        <div className="pull-right hidden-xs">
          <b>Beta Version</b> 1
        </div>
        <strong>Copyright &copy; 2014-2015 <a href={this.props.link}>{this.props.companyName}</a>.</strong> All rights reserved.
      </footer>


      );
  }
  });

var Asset = React.createClass({

  getInitialState: function() {
    return {
      published : this.props.asset.published
    };
    },

  handleClick: function(){

    var destroyAsset = ParseReact.Mutation.Destroy(this.props.asset);
    destroyAsset.dispatch();

  },

  toggle: function(){
    var holder = !this.state.published;
    this.setState({published: holder});

    var togglePublished = ParseReact.Mutation.Set(this.props.asset,{"published":holder});
    togglePublished.dispatch();

  },

  render: function(){
    var c = this.props.asset;

    return(


      <li key={c.id} className="col-lg-12">
                      {/*<span className="handle">
                        <i className="fa fa-ellipsis-v"></i>
                        <i className="fa fa-ellipsis-v"></i>
                      </span>
                      <input type="checkbox" value="" name="" className="col-lg-2" />*/}
                      <span className="text col-lg-4"><img style={{"maxWidth" : "100%", "maxHeight" : "200px"}} src={c.image.url()} />
                      </span>

                      <div className="col-lg-2">{c.name}</div>
                      
                      <div className="col-lg-3">
                      <small className="label label-success"><i className="fa fa-calendar-o"></i> {c.createdAt}</small>
                      <span className="text">
                        {c.tags.toString()}
                      </span>
                      </div>
                      
                      <div className="col-lg-2">
                      <div className="onoffswitch" onClick={this.toggle}>
                      <input type="checkbox" name="onoffswitch" className="onoffswitch-checkbox" id="myonoffswitch" checked={this.state.published} />
                        <label className="onoffswitch-label" for="myonoffswitch">
                            <span className="onoffswitch-inner"></span>
                            <span className="onoffswitch-switch"></span>
                        </label>
                    </div>
                    </div>


                      <div className="tools col-lg-1">
                        {/*<i className="fa fa-edit"></i>*/}
                        <i className="fa fa-trash-o" onClick={this.handleClick}></i>
                      </div>
      </li>

      );
  }
  });

var PageAssets = React.createClass({
  mixins: [ParseReact.Mixin, React.addons.LinkedStateMixin], // Enable query subscriptions

  observe: function() {
    // Subscribe to all Comment objects, ordered by creation date
    // The results will be available at this.data.comments
      return {
        assets: (new Parse.Query('Basset')).equalTo('owner', this.props.user).include("site").descending('createdAt')
      };
    },

  getInitialState: function() {
    return {
      creating: false,
      tester: "true",
      newAssetVariables: null
    };
    },

  getDefaultProps: function() {
    return {
      user:  Parse.User.current()
    };
    },

  handleClick: function(){
    //alert("fired");
    var holder  = this.state.creating; 

    this.setState({creating: !holder});
    },

  createAsset: function(variables){
    
    var handler = this.handleClick();
    var refresh = this.refreshQueries();
    var Site = Parse.Object.extend("Site");
    var query = new Parse.Query(Site);

    
    query.get(variables.siteid).then(function(results){

      variables.site = results;

      //alert("the returned object id is: " + variables.site.id);
      
      var newAsset = ParseReact.Mutation.Create("Basset",variables);
      newAsset.dispatch().then(function() {
                //this.refreshQueries();
                
                //this.setState({creating: !this.state.creating});
                handler;
                refresh;
                
            }.bind(this));



    });

    //this.setState({creating: !this.state.creating});
    

    },

  render: function() {
    // Render the text of each comment as a list item

    document.title = "MediaTwist";
    var siteId = this.props.site;
    var creating = this.state.creating ? true : false;
    var assets = this.data.assets;

    if (!creating)
    {
    return (

      <div>
      <div className="box box-primary" key={assets.length}>
                <div className="box-header">
                  <i className="ion ion-images"></i>
                  <h3 className="box-title">{creating} You have {this.data.assets.length} assets</h3>
                  <button className="btn btn-default pull-right" onClick={this.handleClick}><i className="fa fa-plus"></i> Add assets</button>
                  {/*<div className="box-tools pull-right">
                    <ul className="pagination pagination-sm inline">
                      <li><a href="#">&laquo;</a></li>
                      <li><a href="#">1</a></li>
                      <li><a href="#">2</a></li>
                      <li><a href="#">3</a></li>
                      <li><a href="#">&raquo;</a></li>
                    </ul>
                  </div>*/}
                </div>
                <div className="box-body">
                  <ul className="todo-list">

        {assets.map(function(assets) {
          return (

                    <Asset asset={assets} key={assets.id}/>

            );
        })}
                  </ul>
                </div>
                <div className="box-footer clearfix no-border">
                  <button className="btn btn-default pull-right" onClick={this.handleClick}><i className="fa fa-plus"></i> Add assets</button>
                </div>
              </div>
        </div>
      );
    }
    else
    {
      return (

        <NewAsset key={this.state.creating} creating={this.state.creating} switchCreating={this.handleClick} newAsset={this.createAsset} newAssetVariables={this.state.newAssetVariables} />

        );
        }
    }



    }
    );

var NewAsset = React.createClass({
  mixins: [ParseReact.Mixin],

  observe: function() {
    // Subscribe to all Comment objects, ordered by creation date
    // The results will be available at this.data.comments
      return {
        sites: (new Parse.Query('Site')).equalTo('owner', this.props.user).ascending('createdAt')
      };
    },

  handleClose: function(){

    this.props.switchCreating(this.props.creating);

    },

  getDefaultProps: function() {
    return {
      user:  Parse.User.current(),
      newAssetVariables: null
      };
    },

  addAsset: function(event){

    event.preventDefault();
        console.log("INSIDE: handleSubmit()");
        console.log("fileName = " + this.state.myFileName);
        console.log("this.state.myFileHandle = " + this.state.myFileHandle);

        if (this.state.myFileHandle) {
          console.log("INSIDE if test myFileHandle.length");
          var file = this.state.myFileHandle;
          var name = this.state.myFileName;
          var parseFile = new Parse.File(name, file);

          var siteObject = this.state.siteId;
          var name = this.state.name;
          var owner = this.state.owner;
          var tags = this.state.tags.split(" ");

          //alert(site);

          var variables = this.props.newAssetVariables;
          var assetAction = this.props.newAsset;

          parseFile.save().then(function(){

            //var newAsset = ParseReact.Mutation.Create("Basset",{ "image":parseFile , "siteid":siteid , "name":name , "owner" : owner , "published":true,"tags": tags});
            //newAsset.dispatch();

            //alert("the siteobject field is " + siteObject);

            variables = { "image": parseFile , "siteid": siteObject , "name":name , "owner" : owner , "published":true, "tags": tags};

            assetAction(variables);

          });


        } // end if

      //this.props.newAssetVariables = variables;
      //this.props.newAsset(variables);

      //this.props.switchCreating(this.props.creating);


    },

  getInitialState: function() {
      return {
        name: '',
        file: null,
        owner: Parse.User.current(),
        published: true,
        tags: {},
        siteId:null,
        };

    },

  handleChange: function(name, event) {
    //alert(event.target.value);
    var change = {};
    change[name] = event.target.value;
    this.setState(change);
    },

  handleFile: function(e) {
    console.log("handleChange() fileName = " + event.target.files[0].name);
    console.log("handleChange() file handle = " + event.target.files[0]);
    this.setState( {myFileName: event.target.files[0].name} );
    this.setState( {myFileHandle: event.target.files[0]} );
    },

  render:function(){
    var creating = this.state.creating;
    var sites = this.data.sites;

    return (
      <div className="box box-info">
                <div className="box-header">
                  <i className="ion ion-images"></i>
                  <h3 className="box-title">Add Assets</h3>
                  <div className="pull-right box-tools">
                    <button onClick={this.handleClose} className="btn btn-info btn-sm btn-block" data-widget="remove" data-toggle="tooltip" title="Remove"><i className="fa fa-times"></i></button>
                  </div>
                </div>
                <div className="box-body">
                  <form action="#" method="post">
                    <select className="btn btn-primary btn-lg btn-block" name="sitelist" onChange={this.handleChange.bind(this,'siteId')}>
                    <option selected="selected" value="" key="default">Select your site</option>
                    {/*<option value="Select site" key="none">Select Site</option>*/}
                      {sites.map(function(c) {
                        return (
                                  <option value={c.objectId} key={c.id}>{c.title}</option>
                          );
                      })}
                    </select><br />
                    <div className="form-group">
                      <input onChange={this.handleChange.bind(this,'name')} type="text" className="form-control" name="name" placeholder="Asset Name:"/>
                    </div>
                    <div className="form-group">
                    <input onChange={this.handleChange.bind(this,'tags')} type="text" className="form-control" name="tags" placeholder="Tags:"/>
                    </div>
                    <div>
                      <input onChange={this.handleFile} className="btn btn-primary btn-lg btn-block" type="file" className="form-control" name="file" placeholder="filename"/>
                    </div>

                  </form>
                </div>
                <div className="box-footer clearfix">
                  <button className="pull-right btn btn-default" id="sendEmail" onClick={this.addAsset}>Add Asset <i className="fa fa-arrow-circle-right"></i></button>
                </div>
              </div>

        );
      }
  });

var UserProfile = React.createClass({
  getInitialState:function(){
    return {
      user: Parse.User.current(),
      firstname : Parse.User.current().get('firstname'),
      createdAt : Parse.User.current().get('createdAt')
    };
  },

  logOut: function(){

    Parse.User.logOut();
    //alert("logout");
    location.reload();
  },

  render: function(){
    var user = this.props.user;
    //var firstname = this.props.firstname;
    //var createdAt = '' + this.state.user.get('emailVerified');

    return(
      <li className="dropdown user user-menu">
                <a href="#" className="dropdown-toggle" data-toggle="dropdown">
                  <img src="dist/img/user2-160x160.jpg" className="user-image" alt="User Image"/>
                  <span className="hidden-xs">{user.get('email')}</span>
                </a>
        <ul className="dropdown-menu">
        <li className="user-header">
          <img src="dist/img/user2-160x160.jpg" className="img-circle" alt="User Image" />
          <p>
            {this.state.user.get('firstname')} {this.state.user.get('lastname')}
            {/*<small>Member since {this.state.createdAt}</small>*/}
          </p>
        </li>
        {/*<li className="user-body">
          <div className="col-xs-4 text-center">
            <a href="#">Followers</a>
          </div>
          <div className="col-xs-4 text-center">
            <a href="#">Sales</a>
          </div>
          <div className="col-xs-4 text-center">
            <a href="#">Friends</a>
          </div>
        </li>*/}
        <li className="user-footer">
          {/*<div className="pull-left">
            <a href="#" className="btn btn-default btn-flat">Profile</a>
          </div>*/}
          <div className="pull-right">
            <a href="#" onClick={this.logOut} className="btn btn-default btn-flat">Sign out</a>
          </div>
        </li>
        </ul>
        </li>

      );

  }

  });

var Header = React.createClass({

  getDefaultProps:function(){
    return {
      user: Parse.User.current(),
    };
  },

  render: function(){
    var user = this.props.user;
    var email = this.props.user.get('email');
    var firstname = this.props.user.get('firstname');


    return (
      <header className="main-header">
        <a href="index2.html" className="logo"><b>{firstname}</b></a>

        <nav className="navbar navbar-static-top" role="navigation">
          <a href="#" className="sidebar-toggle" data-toggle="offcanvas" role="button">
            <span className="sr-only">Toggle navigation</span>
          </a>
          <div className="navbar-custom-menu">
            <ul className="nav navbar-nav">

              {/*<MessagesBox />

              <NotificationsBox />

              <TasksBox /> */}

              <UserProfile user={user} />



            </ul>
          </div>
        </nav>
      </header>);
  }

  });

var Site = React.createClass({
  

  getInitialState: function() {
    return {
      published: this.props.site.published,
      site: this.props.site
    };
    },

  handleClick: function(){

    var destroysite = ParseReact.Mutation.Destroy(this.props.site);
    destroysite.dispatch();

  },

  toggle: function(){
    var holder = !this.state.published;
    this.setState({published: holder});

    var togglePublished = ParseReact.Mutation.Set(this.props.site,{"published":holder});
    togglePublished.dispatch();

  },

  render: function(){
    var site = this.props.site;

    return(


      <li key={site.id} className="col-lg-12">
                      {/*<span className="handle">
                        <i className="fa fa-ellipsis-v"></i>
                        <i className="fa fa-ellipsis-v"></i>
                      </span>
                      <input type="checkbox" value="" name="" className="col-lg-2" />*/}
                      <span className="text col-lg-3"><img style={{"maxHeight" : "100px" }} src={site.image.url()} />
                      </span>

                      <div className="col-lg-2">{site.title}</div>
                      
                      <div className="col-lg-4">
                      <small className="label bg-yellow"><i className="ion ion-forward"></i> {site.createdAt}</small>
                      <span className="text">
                        {site.url}
                      </span>
                      </div>
                      
                      <div className="col-lg-2">
                      <div className="onoffswitch" onClick={this.toggle}>
                      <input type="checkbox" name="onoffswitch" className="onoffswitch-checkbox" id="myonoffswitch" checked={this.state.published} />
                        <label className="onoffswitch-label" for="myonoffswitch">
                            <span className="onoffswitch-inner"></span>
                            <span className="onoffswitch-switch"></span>
                        </label>
                    </div>
                    </div>


                      <div className="tools col-lg-1">
                        {/*<i className="fa fa-edit"></i>*/}
                        <i className="fa fa-trash-o" onClick={this.handleClick}></i>
                      </div>
                  {/*<PageAssets site={site}/>*/}

      </li>

      );
  }
  });

var PageSites = React.createClass({
  mixins: [ParseReact.Mixin, React.addons.LinkedStateMixin], // Enable query subscriptions

  observe: function() {
    // Subscribe to all Comment objects, ordered by creation date
    // The results will be available at this.data.comments
      return {
        sites: (new Parse.Query('Site')).equalTo('owner', this.props.user).descending('createdAt')
      };
    },

  getInitialState: function() {
    return {
      creating: false,
      tester: "true",
      newsiteVariables: null
    };
    },

  getDefaultProps: function() {
    return {
      user:  Parse.User.current()
    };
    },

  handleClick: function(){
    // alert("test");
    this.setState({creating: !this.state.creating});
    },

  createSite: function(variables){

    var handler = this.handleClick();
    //alert("createSite in PageSites is firing");


    var newSite = ParseReact.Mutation.Create("Site",variables);
    newSite.dispatch().then(function(obj) {
                this.refreshQueries();
                
                //alert(obj.url);
                //this.setState({creating: !this.state.creating});
                createAllTargets(obj.url);
                handler;


            }.bind(this));

    //alert(newSite.id);
    //console.log(newSite.data);
    //this.handleClick();

    },

  render: function() {
    // Render the text of each comment as a list item

    document.title = "MediaTwist";
    var siteId = this.props.siteId;
    var creating = this.state.creating ? true : false;
    var sites = this.data.sites;


    if (!creating)
    {
    return (

      <div>
      <div className="box box-primary" key={sites.length}>
                <div className="box-header">
                  <i className="ion ion-images"></i>
                  <h3 className="box-title">{creating} You have {this.data.sites.length} sites</h3>
                  <button className="btn btn-default pull-right" onClick={this.handleClick}><i className="fa fa-plus"></i> Add sites</button>
                  {/*<div className="box-tools pull-right">
                    <ul className="pagination pagination-sm inline">
                      <li><a href="#">&laquo;</a></li>
                      <li><a href="#">1</a></li>
                      <li><a href="#">2</a></li>
                      <li><a href="#">3</a></li>
                      <li><a href="#">&raquo;</a></li>
                    </ul>
                  </div>*/}
                </div>
                <div className="box-body">
                  <ul className="todo-list">

        {sites.map(function(site) {
          return (

                    <Site site={site} key={site.id} />

            );
        })}
                  </ul>
                </div>
                <div className="box-footer clearfix no-border">
                  <button className="btn btn-default pull-right" onClick={this.handleClick}><i className="fa fa-plus"></i> Add sites</button>
                </div>
              </div>
        </div>
      );
    }
    else
    {
      return (

        <NewSite key={Date.now()} newSite={this.createSite}  handleClick={this.handleClick}/>

        );
        }
    }



    }
    );

var NewSite = React.createClass({
  mixins: [ParseReact.Mixin],

  observe: function() {
    // Subscribe to all Comment objects, ordered by creation date
    // The results will be available at this.data.comments
      return {
        sites: (new Parse.Query('Site')).equalTo('owner', this.props.user).ascending('createdAt')
      };
    },

  addSite: function(event){

      //variables = {"image": this.state.defaultImage, "siteassets": this.state.siteassets, "title":this.state.title , "owner" : this.state.user , "published":true, "url": this.state.url, "owner" : this.state.owner, "published" :true};



      variables = {"title": this.state.title, "published" : true, "url" : this.state.url, "owner" : this.state.owner};
      
      holdMethod = this.props.newSite;

      if (!this.state.defaultImage)
      {


        Parse.Config.get().then(function(config) {

          var defaultImage = config.get("defaultImage");

          variables.image = defaultImage;

          holdMethod(variables);

        });

      }


    },

  getInitialState: function() {
       
      return {
        creating: this.props.creating,
        title: 'default title',
        owner: Parse.User.current(),
        published: true,
        tags: {},
        url: 'default url',
        siteassets: ["none"],
        defaultImage: null
        };

    },

  handleChange: function(name, event) {
    //alert(event.target.value);
    var change = {};
    change[name] = event.target.value;
    this.setState(change);
    },

  handleClick: function(){
    this.handleClick;
  },

  render:function(){
    var creating = this.state.creating;
    var sites = this.data.sites;
    return (
      <div className="box box-info">
                  <div className="box-header">
                    <i className="ion ion-android-desktop"></i>
                    <h3 className="box-title">Add Site</h3>
                    <div className="pull-right box-tools">
                      <button onClick={this.props.handleClick} className="btn btn-info btn-sm btn-block" data-widget="remove" data-toggle="tooltip" title="Remove"><i className="fa fa-times"></i></button>
                    </div>
                  </div>
                  <div className="box-body">
                    <form action="#" method="post">

                      <div className="form-group">
                        <input onChange={this.handleChange.bind(this,'title')} type="text" className="form-control" name="name" placeholder="Site Name:"/>
                      </div>
                      <div className="form-group">
                      <input onChange={this.handleChange.bind(this,'url')} type="text" className="form-control" name="tags" placeholder="Site URL:"/>
                      </div>

                    </form>
                  </div>
                  <div className="box-footer clearfix">
                    <button className="pull-right btn btn-default" id="sendEmail" onClick={this.addSite}>Add Site <i className="fa fa-arrow-circle-right"></i></button>
                  </div>
                </div>

        );
      }
  });

var Target = React.createClass({
  getInitialState: function() {
    return {
      published: this.props.site.published,
      site: this.props.site
    };
    },

  handleClick: function(){

    var destroysite = ParseReact.Mutation.Destroy(this.props.site);
    destroysite.dispatch();

  },

  toggle: function(){
    var holder = !this.state.published;
    this.setState({published: holder});

    var togglePublished = ParseReact.Mutation.Set(this.props.site,{"published":holder});
    togglePublished.dispatch();

  },

  render: function(){
    var c = this.props.site;

    return(


      <li key={c.id} className="col-lg-12">
                      {/*<span className="handle">
                        <i className="fa fa-ellipsis-v"></i>
                        <i className="fa fa-ellipsis-v"></i>
                      </span>
                      <input type="checkbox" value="" name="" className="col-lg-2" />*/}
                      <span className="text col-lg-3"><img style={{"maxHeight" : "100px","maxWidth" : "100%" }} src={c.url} />
                      </span>

                      <div className="col-lg-2">{c.title}</div>
                      
                      <div className="col-lg-4">
                      <small className="label bg-yellow"><i className="ion ion-forward"></i> {c.createdAt}</small>
                      <span className="text" >
                        {c.url}
                      </span>
                      </div>
                      
                      <div className="col-lg-2">
                      <div className="onoffswitch" onClick={this.toggle}>
                      <input type="checkbox" name="onoffswitch" className="onoffswitch-checkbox" id="myonoffswitch" checked={this.state.published} />
                        <label className="onoffswitch-label" for="myonoffswitch">
                            <span className="onoffswitch-inner"></span>
                            <span className="onoffswitch-switch"></span>
                        </label>
                    </div>
                    </div>


                      <div className="tools col-lg-1">
                        {/*<i className="fa fa-edit"></i>*/}
                        <i className="fa fa-trash-o" onClick={this.handleClick}></i>
                      </div>
      </li>

      );
  }
  });

var PageTargets = React.createClass({
  mixins: [ParseReact.Mixin, React.addons.LinkedStateMixin], // Enable query subscriptions

  observe: function() {
    // Subscribe to all Comment objects, ordered by creation date
    // The results will be available at this.data.comments
      return {
        targets: (new Parse.Query('Target')).equalTo('owner', Parse.User.current()).descending('createdAt')
      };
    },

  getInitialState: function() {
    return {
      creating: false,
      tester: "true",
      newsiteVariables: null
    };
    },

  getDefaultProps: function() {
    return {
      user:  Parse.User.current()
    };
    },

  handleClick: function(){
    // alert("test");
    this.setState({creating: !this.state.creating});
    },

  createSite: function(variables){

    var handler = this.handleClick();
    //alert("createSite in PageSites is firing");


    var newSite = ParseReact.Mutation.Create("Site",variables);
    newSite.dispatch().then(function(obj) {
                this.refreshQueries();
                
                //alert(obj.url);
                //this.setState({creating: !this.state.creating});
                createAllTargets(obj.url);
                handler;


            }.bind(this));

    //alert(newSite.id);
    //console.log(newSite.data);
    //this.handleClick();

    },

  render: function() {
    // Render the text of each comment as a list item

    document.title = "MediaTwist";
    var siteId = this.props.siteId;
    var creating = this.state.creating ? true : false;
    var targets = this.data.targets;


    if (!creating)
    {
    return (

      <div>
      <div className="box box-primary" key={targets.length}>
                <div className="box-header">
                  <i className="ion ion-images"></i>
                  <h3 className="box-title">{creating} You have {this.data.targets.length} targets</h3>
                  {/*<button className="btn btn-default pull-right" onClick={this.handleClick}><i className="fa fa-plus"></i> Add target</button>*/}
                  {/*<div className="box-tools pull-right">
                    <ul className="pagination pagination-sm inline">
                      <li><a href="#">&laquo;</a></li>
                      <li><a href="#">1</a></li>
                      <li><a href="#">2</a></li>
                      <li><a href="#">3</a></li>
                      <li><a href="#">&raquo;</a></li>
                    </ul>
                  </div>*/}
                </div>
                <div className="box-body">
                  <ul className="todo-list">

        {targets.map(function(target) {
          return (

                    <Target site={target} key={target.id} />

            );
        })}
                  </ul>
                </div>
                <div className="box-footer clearfix no-border">
                  
                </div>
              </div>
        </div>
      );
    }
    else
    {
      return (

        <NewTarget key={Date.now()} newSite={this.createSite}  handleClick={this.handleClick}/>

        );
        }
    }



    }
    );

var NewTarget = React.createClass({
  mixins: [ParseReact.Mixin],

  observe: function() {
    // Subscribe to all Comment objects, ordered by creation date
    // The results will be available at this.data.comments
      return {
        targets: (new Parse.Query('Target')).equalTo('owner', this.props.user).ascending('createdAt')
      };
    },

  addSite: function(event){

      //variables = {"image": this.state.defaultImage, "siteassets": this.state.siteassets, "title":this.state.title , "owner" : this.state.user , "published":true, "url": this.state.url, "owner" : this.state.owner, "published" :true};



      variables = {"title": this.state.title, "published" : true, "url" : this.state.url, "owner" : this.state.owner};
      
      holdMethod = this.props.newSite;

      if (!this.state.defaultImage)
      {


        Parse.Config.get().then(function(config) {

          var defaultImage = config.get("defaultImage");

          variables.image = defaultImage;

          holdMethod(variables);

        });

      }


    },

  getInitialState: function() {
       
      return {
        creating: this.props.creating,
        title: 'default title',
        owner: Parse.User.current(),
        published: true,
        tags: {},
        url: 'default url',
        siteassets: ["none"],
        defaultImage: null
        };

    },

  handleChange: function(name, event) {
    //alert(event.target.value);
    var change = {};
    change[name] = event.target.value;
    this.setState(change);
    },

  handleClick: function(){
    this.handleClick;
  },

  render:function(){
    var creating = this.state.creating;
    var sites = this.data.sites;
    return (
      <div className="box box-info">
                  <div className="box-header">
                    <i className="ion ion-android-desktop"></i>
                    <h3 className="box-title">Add Target</h3>
                    <div className="pull-right box-tools">
                      <button onClick={this.props.handleClick} className="btn btn-info btn-sm btn-block" data-widget="remove" data-toggle="tooltip" title="Remove"><i className="fa fa-times"></i></button>
                    </div>
                  </div>
                  <div className="box-body">
                    <form action="#" method="post">

                      <div className="form-group">
                        <input onChange={this.handleChange.bind(this,'title')} type="text" className="form-control" name="name" placeholder="Site Name:"/>
                      </div>
                      <div className="form-group">
                      <input onChange={this.handleChange.bind(this,'url')} type="text" className="form-control" name="tags" placeholder="Site URL:"/>
                      </div>

                    </form>
                  </div>
                  <div className="box-footer clearfix">
                    <button className="pull-right btn btn-default" id="sendEmail" onClick={this.addSite}>Add Target <i className="fa fa-arrow-circle-right"></i></button>
                  </div>
                </div>

        );
      }
  });



//Parse.initialize("eDMdMhqERrdc0eN16XJ5mZ5Iq0iTmk4URQrNJVaX", "Ap331XrGb0AyMT4FzysCJXWoTkkXXvTLNQYDPBsh");
//createAllTargets('http://www.emailbolt.com');
function createAllTargets(siteUrl)
  {

  // var siteUrl = 'http://www.emailbolt.com';
  var siteUrl = siteUrl;
  var targetSite = siteUrl; //This is because I changed the structure a bit and didn't want to change var names.

  //runs the cloud code to get the text from a url
  Parse.Cloud.run('getSite', { siteUrl: targetSite }, {
  success: function(results) {

    //creates a dummy element
    var newDiv = document.createElement("html");

    //writes the text string from the cloud code into the dummy element.
    newDiv.innerHTML = results.text; 

    //finds an array of elements that are images
    newDiv = newDiv.getElementsByTagName("img");

    //sets up a new query to find which sites to associate with the target
    var Targets = Parse.Object.extend("Site");
    var query = new Parse.Query(Targets);


    query.equalTo("url", siteUrl);
    query.find({
      success: function(results) {

        //there should only be one matching site so I don't iterate over the returned results
        results = results[0];

        //runs for each element in the newDiv array.
      for (i = 0; i < newDiv.length; i++) { 

        var currentlyWorkingOn = newDiv[i]; //temporarily sets a new var for readability.

        //concatenates the path and the relative src path to create an absolute path
        var imageAbsolutePath = targetSite + currentlyWorkingOn.getAttribute("src");

        //if there is a value in the alt field set it as the title. if there isn't, set 'title' as title.
        var imageTitle = currentlyWorkingOn.getAttribute("alt") ? currentlyWorkingOn.getAttribute("alt"): "title";  

        //all the other variables that make up a Target
        variables = {"site": results, "title": imageTitle, "published" : true, "url" : imageAbsolutePath, "owner" : Parse.User.current()};

        
        var newTarget = ParseReact.Mutation.Create("Target",variables);
        newTarget.dispatch(); 

        console.log(imageAbsolutePath);

        }


    }//end of success
          }); // end of get request


  },
  error: function(error) {
    alert(error.message);
  }

  });

  };


var LoginWrapper = React.createClass({
  mixins: [ParseReact.Mixin],

  getInitialState: function() {
    return {
      error: null,
      signup: false
    };
  },

  observe: function() {
    return {
      user: ParseReact.currentUser
    };
  },

  render: function() {
    if (this.props.isLoggedIn) {
      return (
        <div>
          {/*<a className='logOut' onClick={this.logOut}>
                      <svg viewBox='0 0 60 60'>
                        <path d="M0,0 L30,0 L30,10 L10,10 L10,50 L30,50 L30,60 L0,60 Z"></path>
                        <path d="M20,23 L40,23 L40,10 L60,30 L40,50 L40,37 L20,37 Z"></path>
                      </svg>
                    </a>*/}
        </div>
      );
    }
    return (
      

     <div className="">
        <div className="login-box">
        <div className="login-logo">
        <h1><b>{this.props.siteTitle}</b></h1>
        </div>
        <div className="login-box-body">

            <p className="login-box-msg">Sign in to start your session</p>

        <div className='loginForm' onKeyDown={this.keyDown}>
          {
            this.state.error ?
            <div className='row centered errors'>{this.state.error}</div> :
            null
          }
          <div className='form-group has-feedback'>
            <input  className='form-control' placeholder="Email" ref='username' id='username' type='text' />
            <span className="glyphicon glyphicon-envelope form-control-feedback"></span>
          </div>
          <div className='form-group has-feedback'>
            <input  className='form-control' placeholder="Password" ref='password' id='password' type='password' />
            <span className="glyphicon glyphicon-lock form-control-feedback"></span>
          </div>
          
          <div className="row">
                <div className="col-xs-12">
                  <button onClick={this.submit} className="btn btn-primary btn-block btn-flat">Sign In</button>
                </div>
              </div>
              <div className="social-auth-links text-center">
              <p> OR </p>
              <a href="#" className="btn btn-block btn-social btn-facebook btn-flat"><i className="fa fa-facebook"></i> Sign in using Facebook</a>
              <a href="#" className="btn btn-block btn-social btn-google-plus btn-flat"><i className="fa fa-google-plus"></i> Sign in using Google+</a>
            </div>

            <a href="#">I forgot my password</a><br />
            <a href="register.html" className="text-center">Register a new membership</a>
        </div>
        </div>
        </div>
      </div>





    );
  },

  submit: function() {
    var self = this;
    var username = React.findDOMNode(this.refs.username).value;
    var password = React.findDOMNode(this.refs.password).value;
    if (username.length && password.length) {
      if (this.state.signup) {
        console.log('signup');
        var u = new Parse.User({
          username: username,
          password: password
        });
        u.signUp().then(function() {
          self.setState({error: null});
          location.reload();
        }, function() {
          self.setState({
            error: 'Invalid account information'
          });
        });
      } else {
        Parse.User.logIn(username, password).then(function() {
          self.setState({error: null});
          location.reload();
        }, function() {
          self.setState({
            error: 'Incorrect username or password'
          });
        });
      }
    } else {
      this.setState({
        error: 'Please enter all fields'
      });
    }



  },

  logOut: function() {
    Parse.User.logOut();
  },

  keyDown: function(e) {
    if (e.keyCode === 13) {
      this.submit();
    }
  },

  toggleSignup: function() {
    this.setState({
      signup: !this.state.signup
    });
  }



  });

React.render(
<App siteTitle="MediaTwist" />,
document.getElementById('bodyId')
);



  </script>

  <script>



</script>

<body class="skin-blue" id="bodyId">

 


<!-- jQuery 2.1.3 -->
  
  <!-- jQuery UI 1.11.2 -->
    <script src="plugins/jQuery/jQuery-2.1.3.min.js"></script>

  <script src="http://code.jquery.com/ui/1.11.2/jquery-ui.min.js" type="text/javascript"></script>
  <!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
  <script>
    $.widget.bridge('uibutton', $.ui.button);
  </script>
  <!-- Bootstrap 3.3.2 JS -->
  <script src="bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
  <!-- Morris.js charts -->
  <script src="http://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
  <script src="plugins/morris/morris.min.js" type="text/javascript"></script>
  <!-- Sparkline -->
  <script src="plugins/sparkline/jquery.sparkline.min.js" type="text/javascript"></script>
  <!-- jvectormap -->
  <script src="plugins/jvectormap/jquery-jvectormap-1.2.2.min.js" type="text/javascript"></script>
  <script src="plugins/jvectormap/jquery-jvectormap-world-mill-en.js" type="text/javascript"></script>
  <!-- jQuery Knob Chart -->
  <script src="plugins/knob/jquery.knob.js" type="text/javascript"></script>
  <!-- daterangepicker -->
  <script src="plugins/daterangepicker/daterangepicker.js" type="text/javascript"></script>
  <!-- datepicker -->
  <script src="plugins/datepicker/bootstrap-datepicker.js" type="text/javascript"></script>
  <!-- Bootstrap WYSIHTML5 -->
  <script src="plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.all.min.js" type="text/javascript"></script>
  <!-- iCheck -->
  <script src="plugins/iCheck/icheck.min.js" type="text/javascript"></script>
  <!-- Slimscroll -->
  <script src="plugins/slimScroll/jquery.slimscroll.min.js" type="text/javascript"></script>
  <!-- FastClick -->
  <script src='plugins/fastclick/fastclick.min.js'></script>
  <!-- AdminLTE App -->
  <script src="dist/js/app.min.js" type="text/javascript"></script>

  <!-- AdminLTE dashboard demo (This is only for demo purposes) -->
  <script src="dist/js/pages/dashboard.js" type="text/javascript"></script>

  <!-- AdminLTE for demo purposes -->
  <script src="dist/js/demo.js" type="text/javascript"></script>

      <script src="https://fb.me/react-0.13.2.js"></script>
  <script src="https://fb.me/JSXTransformer-0.13.2.js"></script>
  <script type="text/javascript" src="http://www.parsecdn.com/js/parse-1.4.2.min.js"></script>
  <script src="https://www.parsecdn.com/js/parse-react.js"></script>
  <script src="https://fb.me/react-with-addons-0.13.2.js"></script>


  <script type="text/javascript"></script>
</body>
</html>